+++
draft = false
date = "2017-01-04T22:43:38+09:00"
title = "fish の環境を整理する"
+++

MacBook Pro (15-inch, 2016) がもうすぐ届くのと、新年から新しい職場で働くという事もあり、年末年始を使って開発環境を整理している。
まずは土台からという事で、色々と放置していた fish の環境から整理した。

### 不要なゴミの整理

zsh を今後使う事はないので、まずは zshrc などを削除する。
bash は開発環境以外で使う可能性が高いのと、そこに fish を入れる事はまずないと思うので残す事にした。

なぜ消すかって？不要なコードは消すでしょ？ dotfiles もバージョン管理してるんだから不要なら消して綺麗にしておくに限る。

### fisherman のインストール

何か理由があって使うのをやめていたのだけど、プラグインは便利なので導入する。インストール方法は公式サイトにある通り。
サッとチェックして fishfile には次のプラグインを追加した。
```
fisherman/await
fisherman/fzf
fisherman/get
fisherman/getopts
decors/fish-ghq
fisherman/last_job_id
fisherman/pyenv
fisherman/rbenv
fisherman/z
```

### config.fish の整理

fish はデフォルトでかなり使いやすく設定されているので、殆ど設定する事がない。
環境変数とエイリアス以外では rbenv や direnv の設定を追加するくらいかな。
本当はテーマも config.fish に記載しておくと良かったのだけど、面倒なのでやめました。

### functions の追加

ghq と fzf の組み合わた関数を定義する予定だったけど fish-ghq プラグインで全て事足りた。
`ctrl-g` で快適に使える。

### 最後に

これくらいの簡単な設定で業務に差し支えのないシェル環境が整うのが fish の強みだと思う。
シェルスクリプトのワンライナーがそのまま実行出来ない場合があるものの、その時は bash で実行すれば良いと割り切っている。

bash や zsh をガチガチにカスタマイズして使うのも良いと思うけど、自分はあまりそこに労力をかけたくないので fish は性に合ってると改めて感じた。
